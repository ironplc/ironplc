{
    "build": {
        // Path is relative to the devcontainer.json file.
        "dockerfile": "Dockerfile"
    },
    "customizations": {
        "vscode": {
          "extensions": [
            "streetsidesoftware.code-spell-checker",
            "ms-python.python",
            "lextudio.restructuredtext",
            "trond-snekvik.simple-rst",
            "rust-lang.rust-analyzer",
            "vadimcn.vscode-lldb",
            "dbaeumer.vscode-eslint",
            "ms-azuretools.vscode-docker",
            "ryanluker.vscode-coverage-gutters",
            "tintinweb.graphviz-interactive-preview",
            "ramyaraoa.show-offset"]
        }
    },
    "features": {
        "ghcr.io/anthropics/devcontainer-features/claude-code:1": {}
    },
    // This maps the host variable to the container variable
    "remoteEnv": {
        "ANTHROPIC_API_KEY": "${localEnv:ANTHROPIC_API_KEY}"
    },
    // Required to set up line coverage in Rust
    "runArgs": [ "--cap-add=SYS_PTRACE", "--security-opt", "seccomp=unconfined" ]
}
